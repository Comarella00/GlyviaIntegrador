<app-header></app-header>
<body>
<div class="profileContainer">
  <div class="userInfo">
    <div class="profileIcon">
      <label for="fotoUpload" class="fotoLabel">
        <img id="fotoUploadPreview" [src]="fotoUrl" alt="Foto de perfil" [class.uploading]="isUploading" />
      </label>
      <input
        id="fotoUpload"
        type="file"
        accept="image/png, image/jpeg, image/jpg"
        (change)="onFotoSelecionada($event)"
        style="display: none;"
      />
    </div>

    <div class="info">
      <div class="userName">{{ usuario?.nome }}</div>
      <div class="userDesc info-row">
        <div><strong>G√™nero:</strong> {{ usuario?.genero }}</div>
        <div><strong>Tipo Insulina:</strong> {{ usuario?.tipoInsulina }}</div>
        <div><strong>Via Aplica√ß√£o:</strong> {{ usuario?.viaAplicacao }}</div>
        <div><strong>Peso:</strong> {{ usuario?.pesoAtual }} kg</div>
        <div><strong>Altura:</strong> {{ usuario?.altura }}</div>
        <div><strong>Meta Glic√™mica:</strong> {{ usuario?.metaGlicemica }} mg/dL</div>
        <div><strong>ICR:</strong> {{ usuario?.icr }}</div>
      </div>
    </div>
  </div>

  <!-- BLOCO 1 - DADOS DA CONTA -->
  <div class="section">
    <div class="sectionHeader" (click)="toggleSection('conta')">
      <span>DADOS DA CONTA</span>
      <span class="arrow">{{ openSection === 'conta' ? '‚ñæ' : '‚ñ∏' }}</span>
    </div>
    <div class="sectionContent" *ngIf="openSection === 'conta'">
      <p>Informa√ß√µes da conta do usu√°rio.</p>
    </div>
  </div>

  <!-- BLOCO 2 - SOBRE N√ìS -->
  <div class="section">
    <div class="sectionHeader" (click)="toggleSection('sobre')">
      <span>SOBRE N√ìS</span>
      <span class="arrow">{{ openSection === 'sobre' ? '‚ñæ' : '‚ñ∏' }}</span>
    </div>

    <div class="sectionContent" *ngIf="openSection === 'sobre'">
      <div class="notification">
        <div class="icon">
          <img src="icons/info.png" alt="Informa√ß√£o" />
        </div>
        <div>
          <strong>Quem somos</strong>
          <p>
            Somos uma iniciativa sem fins lucrativos dedicada a tornar o cuidado com a diabetes mais simples e humano.
            Criamos o Glyvia para ajudar pessoas a acompanharem sua sa√∫de de forma pr√°tica, com carinho e acessibilidade.
            Nosso compromisso √© apoiar cada passo da sua jornada, sempre com empatia e cuidado.
          </p>
        </div>
      </div>

      <div class="notification">
        <div class="icon">
          <img src="icons/customer-service.png" alt="Contato" />
        </div>
        <div>
          <strong>Fale conosco</strong>
          <p>
            Estamos aqui para voc√™! Se tiver d√∫vidas, sugest√µes ou quiser compartilhar sua experi√™ncia, fale com a gente!<br />
            <strong>E-mail:</strong> contato@glyvia.org
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- BLOCO 3 - PREFER√äNCIAS DO APP -->
  <div class="section">
    <div class="sectionHeader" (click)="toggleSection('preferencias')">
      <span>PREFER√äNCIAS DO APP</span>
      <span class="arrow">{{ openSection === 'preferencias' ? '‚ñæ' : '‚ñ∏' }}</span>
    </div>

    <div class="sectionContent" *ngIf="openSection === 'preferencias'">
      <div class="notification">
        <div class="icon">
          <img src="icons/language.png" alt="Linguagem" />
        </div>
        <div>
          <strong>Idioma</strong>
          <p>Portugu√™s - Brasil</p>
        </div>
      </div>

      <div class="notification">
        <div class="icon">
          <img src="icons/themes.png" alt="Tema" />
        </div>
        <div>
          <strong>Tema</strong>
          <p>{{ themeService.isDarkTheme() ? 'Escuro' : 'Claro' }}</p>
          <button class="theme-toggle-btn" (click)="toggleTheme()">
            {{ themeService.isDarkTheme() ? '‚òÄÔ∏è Modo Claro' : 'üåô Modo Escuro' }}
          </button>
        </div>
      </div>

      <div class="notification">
        <div class="icon">
          <img src="icons/version.png" alt="Vers√£o" />
        </div>
        <div>
          <strong>Vers√£o do App</strong>
          <p>√öltima vers√£o: 1.0v</p>
          <p>Data da √∫ltima atualiza√ß√£o: Indefinido</p>
        </div>
      </div>

      <div class="notification">
        <div class="icon">
          <img src="icons/code.png" alt="Desenvolvido" />
        </div>
        <div>
          <strong>Desenvolvido por</strong>
          <p>Projeto Glyvia</p>
        </div>
      </div>
    </div>
  </div>

  <button class="logoutBtn" (click)="logout()">SAIR</button>
  <div class="overlay" *ngIf="showLogoutConfirm">
    <div class="logout-modal">
      <img src="icons/Mascote.png" alt="Mascote Glyvia" class="mascote" />
      <p class="titulo">Ahh voc√™ j√° vai?</p>
      <p class="mensagem">Tem certeza que deseja sair?</p>
      <div class="botoes">
        <button class="btn-sim" (click)="confirmLogout(true)">Sim</button>
        <button class="btn-nao" (click)="confirmLogout(false)">N√£o</button>
      </div>
    </div>
  </div>
</div>
</body>
